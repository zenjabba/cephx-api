# Ceph Management REST API - Configuration Example
# Copy this file to config.yaml and customize for your environment

# Server configuration
server:
  host: "0.0.0.0"
  port: 8000
  workers: 4
  reload: false  # Set to true for development
  log_level: "info"  # debug, info, warning, error, critical

# Database configuration
database:
  path: "./data/cephx-api.db"
  backup_path: "./data/backups"  # Optional: directory for database backups
  backup_interval_hours: 24

# Rate limiting configuration
rate_limit:
  enabled: true
  requests_per_minute: 60  # Per API key
  burst_size: 10

# Ceph cluster configuration
ceph:
  binary_path: "/usr/bin/ceph"
  config_file: "/etc/ceph/ceph.conf"  # Optional: path to ceph.conf
  keyring_file: "/etc/ceph/ceph.client.admin.keyring"  # Optional: path to keyring
  user: "admin"  # Ceph user for authentication
  command_timeout: 30  # Command execution timeout in seconds
  connection_timeout: 5  # Connection timeout in seconds
  filesystem_name: "cephfs"  # Default CephFS filesystem name

# CORS configuration
cors:
  enabled: true
  allow_origins:
    - "http://localhost:3000"
    - "http://127.0.0.1:3000"
    - "https://your-dashboard.example.com"
  allow_credentials: true
  allow_methods:
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "PATCH"
  allow_headers:
    - "*"

# Logging configuration
logging:
  level: "info"  # debug, info, warning, error, critical
  format: "json"  # json or text
  file_path: "./logs/cephx-api.log"  # Optional: log to file
  max_bytes: 10485760  # 10MB max log file size
  backup_count: 5  # Number of backup log files to keep

# Application settings
environment: "production"  # development or production
debug: false  # Enable debug mode (shows detailed errors)

# Environment variable overrides:
# All settings can be overridden with environment variables using the prefix CEPHX_
# Examples:
#   CEPHX_SERVER__HOST=0.0.0.0
#   CEPHX_SERVER__PORT=8080
#   CEPHX_CEPH__BINARY_PATH=/usr/local/bin/ceph
#   CEPHX_DATABASE__PATH=/var/lib/cephx-api/db.sqlite
#   CEPHX_DEBUG=true
